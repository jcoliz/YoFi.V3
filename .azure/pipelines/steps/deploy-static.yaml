# REQUIRED VARIABLES:
# - azureStaticAppApiToken

steps:
  - checkout: none
  - download: current
    displayName: Download $(Artifact.NuxtProject)
    artifact: $(Artifact.NuxtProject)
  - task: AzureStaticWebApp@0
    displayName: Deploy to Static Web Apps
    inputs:
      app_location: $(Artifact.NuxtProject)
      skip_app_build: true
      skip_api_build: true
      verbose: true
      azure_static_web_apps_api_token: $(azureStaticAppApiToken)
#      deployment_environment: $(targetEnvironment)
      workingDirectory: $(Pipeline.Workspace)

# NOTE: If you need to deploy to a specific environment (other than production),
# uncomment the 'deployment_environment' line and provide the appropriate variable.
