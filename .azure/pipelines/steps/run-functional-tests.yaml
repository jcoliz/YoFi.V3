#
# Prepare and run functional tests against the specified environment
#

parameters:
# Name of runsettings file to use
- name: runsettings
  type: string 
  default: 'docker.runsettings'

steps:
- pwsh: $(Solution.FunctionalTestsDirectory)/bin/Debug/net10.0/playwright.ps1 install chromium
  displayName: 'Install Playwright'

- task: DotNetCoreCLI@2
  displayName: 'Run functional tests'
  inputs:
    command: 'test'
    workingDirectory: $(Solution.FunctionalTestsDirectory)
    arguments: '-s ${{ parameters.runsettings }}'
    